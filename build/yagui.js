!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.yagui=t():e.yagui=t()}(window,(function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){var n={GuiMain:o(1).default};e.exports=n},function(e,t,o){"use strict";function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}o.r(t);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,i;return t=e,(o=[{key:"_getInitialValue",value:function(e,t){return"string"!=typeof t?e:e[t]}},{key:"_getCheckCallback",value:function(e,t){return"string"!=typeof t?t:function(o){e[t]=o}}},{key:"_setDomContainer",value:function(e){this.domContainer=e}},{key:"setCallback",value:function(e){this.callback=e}},{key:"setVisibility",value:function(e){this.domContainer&&(this.domContainer.hidden=!e)}}])&&n(t.prototype,o),i&&n(t,i),e}();function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(e,o,n){var i,a,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,i=!(s=u(t).call(this))||"object"!==r(s)&&"function"!=typeof s?l(a):s;var c=n?o[n].bind(o):o;return i.domButton=document.createElement("button"),i.domButton.className="gui-button",i.domButton.innerHTML=e||"",i.domButton.addEventListener("click",i._onClick.bind(l(i))),i.setCallback(c),i}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),o=t,(n=[{key:"setEnable",value:function(e){this.domButton.disabled=void 0!==e&&!e}},{key:"_onClick",value:function(){this.callback&&this.callback()}}])&&a(o.prototype,n),i&&a(o,i),t}(i);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e,o){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(n=f(this,p(t).call(this)))._getInitialValue(e,o),r=n._getCheckCallback(e,o);return n.domCheckbox=document.createElement("input"),n.domCheckbox.className="gui-input-checkbox",n.domCheckbox.type="checkbox",n.domLabelCheckbox=document.createElement("label"),n.setValue(void 0===i||i),n.setCallback(r),n}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),o=t,(n=[{key:"_onMouseDown",value:function(){this.setValue(!this.domCheckbox.checked)}},{key:"setValue",value:function(e,t){this.domCheckbox.checked=e,!t&&this.callback&&this.callback(e)}},{key:"getValue",value:function(){return this.domCheckbox.checked}}])&&h(o.prototype,n),i&&h(o,i),t}(i),y={rgbToHsv:function(e){var t=e[0],o=e[1],n=e[2],i=Math.max(t,o,n),r=Math.min(t,o,n);return r===i?[0,0,r]:[((t===r?3:n===r?1:5)-(t===r?o-n:n===r?t-o:n-t)/(i-r))/6,(i-r)/i,i]},hsvToRgb:function(e){var t=6*e[0],o=e[1],n=e[2],i=Math.floor(t),r=t-i,a=n*(1-o),u=n*(1-r*o),l=n*(1-(1-r)*o),s=i%6;return 0===s?[n,l,a]:1===s?[u,n,a]:2===s?[a,n,l]:3===s?[a,u,n]:4===s?[l,a,n]:[n,a,u]},getValidColor:function(e){for(var t=0,o=e.length;t<o;++t)e[t]=Math.max(0,Math.min(1,e[t]));return e},getStrColor:function(e){return 3===e.length?y.rgbToHex(e):"rgba("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+","+e[3]+")"},getColorMult:function(e,t){var o=[e[0]*t,e[1]*t,e[2]*t];return 4===e.length&&o.push(e[3]),y.getValidColor(o)},getColorAdd:function(e,t){var o=[e[0]+t,e[1]+t,e[2]+t];return 4===e.length&&o.push(e[3]),y.getValidColor(o)},rgbToHex:function(e){for(var t="#",o=0;o<3;++o){var n=Math.round(255*e[o]).toString(16);t+=1===n.length?"0"+n:n}return t},hexToRgb:function(e){var t=0;"#"===e[0]&&(e=e.slice(1));var o=e;if(e.length>6)o=e.slice(0,6);else if(e.length<6)for(o="",t=0;t<3;++t)o+=e[t]?e[t]+e[t]:"00";var n=[0,0,0];for(t=0;t<3;++t){var i=parseInt(o[2*t]+o[2*t+1],16);n[t]=(i!=i?0:i)/255}return n}},v=y;function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=["-moz-","-o-","-webkit-","-ms-",""],O=function(e){function t(e,o,n){var i,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this;var u=(i=!(a=w(t).call(this))||"object"!==g(a)&&"function"!=typeof a?C(r):a)._getInitialValue(e,o),l=i._getCheckCallback(e,o);i.color=u?v.getValidColor(u.slice()):[1,0,0];var s=!1;n&&n.noPopup&&(s=!0),i.domColor=document.createElement("div"),i.domColor.className=s?"gui-widget-color":"",i.domInputColor=document.createElement("input"),i.domPopup=document.createElement("div"),i.domHue=document.createElement("div"),i.domHue.className="gui-color-hue",i.domHueKnob=document.createElement("div"),i.domHueKnob.className="gui-knob-hue",i.domSaturation=document.createElement("div"),i.domSaturation.className="gui-color-saturation";var c=document.createElement("div");return i.domSaturation.appendChild(c),i.domSaturationKnob=document.createElement("div"),i.domSaturationKnob.className="gui-knob-saturation",i.domHue.appendChild(i.domHueKnob),s?(i.domColor.appendChild(i.domSaturationKnob),i.domColor.appendChild(i.domSaturation),i.domColor.appendChild(i.domHue)):(i.domPopup.appendChild(i.domSaturationKnob),i.domPopup.appendChild(i.domSaturation),i.domPopup.appendChild(i.domHue),i.domColor.appendChild(i.domInputColor)),i.domColor.appendChild(i.domPopup),i._hueGradient(i.domHue),i._linearGradient(c,"top","rgba(0,0,0,0)","#000"),i.domColor.addEventListener("keydown",i._onInputDown.bind(C(i))),i.domSaturation.addEventListener("mousedown",i._onSaturationDown.bind(C(i))),i.domHue.addEventListener("mousedown",i._onHueDown.bind(C(i))),window.addEventListener("mouseup",i._onMouseUp.bind(C(i))),window.addEventListener("mouseout",i._onMouseUp.bind(C(i))),window.addEventListener("mousemove",i._onMouseMove.bind(C(i))),i.hasAlpha=4===i.color.length,i.alpha=1,i.hasAlpha&&(i.domPopup.style.width="142px",i.domAlpha=document.createElement("div"),i.domAlpha.className="gui-color-alpha",i.domAlphaKnob=document.createElement("div"),i.domAlphaKnob.className="gui-knob-alpha",i._alphaGradient(i.domAlpha,"top","rgba(0,0,0,1.0)","rgba(0,0,0,0.0)"),i.domAlpha.addEventListener("mousedown",i._onAlphaDown.bind(C(i))),i.domAlpha.appendChild(i.domAlphaKnob),i.domPopup.appendChild(i.domAlpha)),i.editHue=i.editSaturation=i.editAlpha=!1,i.widgetHeight=i.widgetWidth=100,i.setValue(i.color),i.setCallback(l),i}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),o=t,(n=[{key:"_onInputDown",value:function(e){e.stopPropagation(),13===e.keyCode&&this.setValue(v.hexToRgb(e.target.value))}},{key:"_onUpdateSaturation",value:function(e){var t=this.domSaturation.getBoundingClientRect(),o=v.rgbToHsv(this.getValue());o[1]=Math.min(1,Math.max(0,(e.clientX-t.left)/t.width)),o[2]=Math.min(1,Math.max(0,1-(e.clientY-t.top)/t.width)),this.setValue(v.hsvToRgb(o),!1,!0),this._updateGui()}},{key:"_onUpdateHue",value:function(e){var t=this.domHue.getBoundingClientRect(),o=v.rgbToHsv(this.getValue());o[0]=Math.min(1,Math.max(0,1-(e.clientY-t.top)/t.height)),this.setValue(v.hsvToRgb(o),!1,!0),this._updateGui()}},{key:"_onUpdateAlpha",value:function(e){var t=this.domAlpha.getBoundingClientRect(),o=this.getValue();o[3]=this.alpha=Math.min(1,Math.max(0,1-(e.clientY-t.top)/t.height)),this.setValue(o,!1,!0),this._updateGui()}},{key:"_updateGui",value:function(){var e=this.getValue(),t=v.rgbToHsv(e);this.domSaturationKnob.style.marginLeft=this.widgetWidth*t[1]-7+"px",this.domSaturationKnob.style.marginTop=this.widgetHeight*(1-t[2])-7+"px",t[1]=t[2]=1,this._linearGradient(this.domSaturation,"left","#fff",v.getStrColor(v.hsvToRgb(t))),this.domHueKnob.style.marginTop=(1-t[0])*this.widgetHeight+"px",this.hasAlpha&&void 0!==e[3]&&(this.domAlphaKnob.style.marginTop=(1-this.alpha)*this.widgetHeight+"px")}},{key:"_onMouseMove",value:function(e){if(this.editSaturation||this.editHue||this.editAlpha)return this.editSaturation?this._onUpdateSaturation(e):this.editHue?this._onUpdateHue(e):this.editAlpha?this._onUpdateAlpha(e):void 0}},{key:"_onSaturationDown",value:function(e){this.editSaturation=!0,this._onMouseMove(e)}},{key:"_onHueDown",value:function(e){this.editHue=!0,this._onMouseMove(e)}},{key:"_onAlphaDown",value:function(e){this.editAlpha=!0,this._onMouseMove(e)}},{key:"_onMouseUp",value:function(){this.editHue=this.editSaturation=this.editAlpha=!1}},{key:"_hueGradient",value:function(e){e.style.background="";for(var t=0,o=S.length;t<o;++t)e.style.cssText+="background: "+S[t]+"linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);"}},{key:"_alphaGradient",value:function(e,t,o,n){e.style.background="";for(var i=0,r=S.length;i<r;++i)e.style.cssText+="background: "+S[i]+"linear-gradient("+t+", "+o+","+n+'),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAChJREFUeNpiPHPmDAMMGBsbw9lMDDgA6RKM%2F%2F%2F%2Fh3POnj1LCzsAAgwAQtYIcFfEyzkAAAAASUVORK5CYII%3D");'}},{key:"_linearGradient",value:function(e,t,o,n){e.style.background="";for(var i=0,r=S.length;i<r;++i)e.style.cssText+="background: "+S[i]+"linear-gradient("+t+", "+o+" 0%, "+n+" 100%);"}},{key:"setValue",value:function(e,t,o){for(var n=this.color,i=0,r=e.length;i<r;++i)n[i]=e[i];var a=v.rgbToHex(e);if(this.domInputColor.value=a,this.hasAlpha){e.length>=4?this.alpha=e[3]:e.push(this.alpha);var u="rgba("+parseInt(255*e[0],10)+","+parseInt(255*e[1],10)+","+parseInt(255*e[2],10)+","+this.alpha+")";this._alphaGradient(this.domInputColor,"0deg",u,u)}else this.domInputColor.style.background=a;var l=v.rgbToHsv(e);this.domSaturationKnob.style.borderColor=l[2]<.5||l[1]>.5?"#fff":"#000",this.domInputColor.style.color=this.alpha>.2&&(l[2]<.5||l[1]>.5)?"#fff":"#000",o||this._updateGui(),!t&&this.callback&&this.callback(e)}},{key:"getValue",value:function(){return this.color}}])&&_(o.prototype,n),i&&_(o,i),t}(i);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(e,o,n){var i,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this;var u=(i=!(a=E(t).call(this))||"object"!==x(a)&&"function"!=typeof a?M(r):a)._getInitialValue(e,o),l=i._getCheckCallback(e,o);return n=n||{},u=void 0!==u?u:n[0],i.isArray=void 0!==n.length,i.domSelect=document.createElement("select"),i.domSelect.className="gui-select",i.addOptions(n),i.domSelect.addEventListener("change",i._onChange.bind(M(i))),i.setValue(u),i.setCallback(l),i}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),o=t,(n=[{key:"_parseValue",value:function(e){return this.isArray?parseInt(e,10):e}},{key:"_onChange",value:function(e){this.setValue(e.target.value)}},{key:"addOptions",value:function(e){for(var t=Object.keys(e),o=0;o<t.length;++o){var n=document.createElement("option");n.innerHTML=e[t[o]],n.value=t[o],this.domSelect.appendChild(n)}}},{key:"setValue",value:function(e,t){this.domSelect.value=e,!t&&this.callback&&this.callback(this._parseValue(e))}},{key:"getValue",value:function(){return this._parseValue(this.domSelect.value)}}])&&T(o.prototype,n),i&&T(o,i),t}(i);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(e,o,n,i,r){var a,u,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u=this;var s=(a=!(l=V(t).call(this))||"object"!==R(l)&&"function"!=typeof l?L(u):l)._getInitialValue(e,o),c=a._getCheckCallback(e,o);return s=void 0!==s?s:100,n=void 0!==n?n:0,i=void 0!==i?i:200,r=void 0!==r?r:1,a.domSlider=document.createElement("div"),a.domSlider.className="gui-slider",a.domSliderFill=document.createElement("div"),a.domSlider.appendChild(a.domSliderFill),a.domInputText=document.createElement("input"),a.domInputText.className="gui-input-number",a.domInputText.type="number",a.min=a.domInputText.min=n,a.max=a.domInputText.max=i,a.step=a.domInputText.step=r,a.domInputText.addEventListener("keydown",a._onKeyDown.bind(L(a))),a.domInputText.addEventListener("change",a._onInputText.bind(L(a))),a.domInputText.addEventListener("blur",a._onInputText.bind(L(a))),a.domSlider.addEventListener("mousedown",a._onMouseDown.bind(L(a))),window.addEventListener("mouseup",a._onMouseUp.bind(L(a)),!0),window.addEventListener("mousemove",a._onMouseMove.bind(L(a))),a.lastValue=s,a.isDown=!1,a.setValue(s),a.setCallback(c),a}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,e),o=t,(n=[{key:"_onInputText",value:function(e){var t=parseFloat(e.target.value);t==t&&t!==this.lastValue&&this.setValue(t)}},{key:"_onKeyDown",value:function(e){e.stopPropagation(),13===e.which&&this.domInputText.blur()}},{key:"_onMouseMove",value:function(e){if(e.preventDefault(),this.isDown){var t=this.domSlider.getBoundingClientRect(),o=this.min+(this.max-this.min)*((e.clientX-t.left)/t.width);this.setValue(o)}}},{key:"_onMouseDown",value:function(e){this.isDown=!0,this._onMouseMove(e)}},{key:"_onMouseUp",value:function(){this.isDown=!1}},{key:"_setDomContainer",value:function(e){this.domContainer=e}},{key:"getValue",value:function(){return parseFloat(this.domInputText.value)}},{key:"setValue",value:function(e,t){this.lastValue=e,e=Math.max(Math.min(e,this.max),this.min),e=Math.round(e/this.step)*this.step,this.domInputText.value=e;var o=this.min;this.max!==this.min&&(o=(e-this.min)/(this.max-this.min)),this.domSliderFill.style.width=100*o+"%",!t&&this.callback&&this.callback(e)}},{key:"setMax",value:function(e){return this.domInputText.max=this.max=e,this}},{key:"setMin",value:function(e){return this.min=e,this}}])&&A(o.prototype,n),i&&A(o,i),t}(i);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=U(this,z(t).call(this))).domText=document.createElement("div"),o.domText.innerHTML=e||"",o.domText.className="group-title",o}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,e),o=t,(n=[{key:"setText",value:function(e){this.domText.innerHTML=e}},{key:"setVisibility",value:function(e){this.domText.hidden=!e}}])&&B(o.prototype,n),i&&B(o,i),t}(i);function K(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,n;return t=e,(o=[{key:"_addLine",value:function(e){var t=document.createElement("li");return t.innerHTML=e||"",this.domUl.appendChild(t),t}},{key:"_createLabel",value:function(e){var t=document.createElement("label");return t.className="gui-label-side",t.innerHTML=e||"",t}},{key:"_setDomContainer",value:function(e){this.domContainer=e}},{key:"addTitle",value:function(e){var t=new N(e);return this.domUl.appendChild(t.domText),t}},{key:"addCheckbox",value:function(e,t,o){var n=new m(t,o),i=this._addLine();i.className+=" gui-pointerOnHover gui-glowOnHover";var r=this._createLabel(e);return r.style.overflow="visible",r.className+=" gui-pointerOnHover",i.appendChild(r),i.appendChild(n.domCheckbox),i.appendChild(n.domLabelCheckbox),i.addEventListener("mousedown",n._onMouseDown.bind(n)),n._setDomContainer(i),n}},{key:"addCombobox",value:function(e,t,o,n){var i=new j(t,o,n),r=this._addLine();return e?r.appendChild(this._createLabel(e)):i.domSelect.style.width="100%",r.appendChild(i.domSelect),i._setDomContainer(r),i}},{key:"addSlider",value:function(e,t,o,n,i,r){var a=new D(t,o,n,i,r),u=this._addLine();return e&&u.appendChild(this._createLabel(e)),u.appendChild(a.domInputText),u.appendChild(a.domSlider),a._setDomContainer(u),a}},{key:"addColor",value:function(e,t,o,n){var i=new O(t,o,n),r=this._addLine();return n&&n.noPopup&&(r.style.height="100px"),e?r.appendChild(this._createLabel(e)):i.domColor.style.width="100%",r.appendChild(i.domColor),i._setDomContainer(r),i}},{key:"addButton",value:function(e,t,o){var n=new c(e,t,o),i=this._addLine();return i.appendChild(n.domButton),n._setDomContainer(i),n}},{key:"addDualButton",value:function(e,t,o,n,i,r){var a=new c(e,o,i),u=new c(t,n,r),l=this._addLine();l.appendChild(u.domButton),l.appendChild(a.domButton);var s=a.domButton.style,d=u.domButton.style;return s.width=d.width="49%",s.marginRight=d.marginLeft="1%",a._setDomContainer(l),u._setDomContainer(l),[a,u]}},{key:"setVisibility",value:function(e){this.domContainer&&(this.domContainer.hidden=!e)}}])&&K(t.prototype,o),n&&K(t,n),e}();function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(e){var o,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(o=!(i=Y(t).call(this))||"object"!==F(i)&&"function"!=typeof i?Z(n):i).domUl=document.createElement("ul"),o.domUl.setAttribute("opened",!0);var r=document.createElement("label");return r.innerHTML=e||"",r.addEventListener("mousedown",o._onMouseDown.bind(Z(o))),o.domUl.appendChild(r),o.isOpen=!0,o}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,e),o=t,(n=[{key:"_onMouseDown",value:function(){this.isOpen=!this.isOpen,this.domUl.setAttribute("opened",this.isOpen)}},{key:"open",value:function(){this.isOpen=!0,this.domUl.setAttribute("opened",!0)}},{key:"close",value:function(){this.isOpen=!1,this.domUl.setAttribute("opened",!1)}},{key:"setVisibility",value:function(e){e?this.isOpen&&this.domUl.setAttribute("opened",!0):this.domUl.setAttribute("opened",!1),this.domUl.style.height=e?"auto":"0px"}}])&&X(o.prototype,n),i&&X(o,i),t}(G);function q(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domSidebar=document.createElement("div"),this.domSidebar.className="gui-sidebar",this.domResize=document.createElement("div"),this.domResize.className="gui-resize",this.isDragging=!1,this.mouseX=0,this.domResize.addEventListener("mousedown",this._onMouseDown.bind(this)),window.addEventListener("mousemove",this._onMouseMove.bind(this)),window.addEventListener("mouseup",this._onMouseUp.bind(this)),this.callbackResize=t,this.isOnTheRight=!1}var t,o,n;return t=e,(o=[{key:"_setTop",value:function(e){this.domSidebar.style.top=this.domResize.style.top=e+"px"}},{key:"_onTheRight",value:function(){this.isOnTheRight=!0,this.domSidebar.style.right=0,this.domSidebar.style.borderRight=0,this.domSidebar.style.borderLeft="double",this.domSidebar.style.borderColor="rgba(255,255,255,0.3)",this.domResize.style.left="auto",this.domResize.style.right=this.domSidebar.offsetWidth+"px",this.domResize.style.marginRight="-3px"}},{key:"_onMouseDown",value:function(e){this.isDragging=!0,this.mouseX=e.clientX}},{key:"_updateViewportPosition",value:function(e){var t=this.domSidebar.hidden?0:this.domSidebar.offsetWidth;this.isOnTheRight||(e.style.left=this.domSidebar.offsetLeft+t+"px"),e.style.width=e.clientWidth-t+"px"}},{key:"_onMouseMove",value:function(e){if(!1!==this.isDragging){var t=e.clientX,o=t-this.mouseX;this.isOnTheRight&&(o=-o);var n=Math.max(50,this.domSidebar.offsetWidth+o)+"px";this.domSidebar.style.width=n,this.isOnTheRight?this.domResize.style.right=this.domSidebar.offsetWidth+"px":this.domResize.style.left=n,this.mouseX=t,this.callbackResize()}}},{key:"_onMouseUp",value:function(){this.isDragging=!1}},{key:"addMenu",value:function(e){var t=new Q(e);return this.domSidebar.appendChild(t.domUl),t}},{key:"setVisibility",value:function(e){this.domSidebar.hidden=!e,this.domResize.hidden=!e,this.callbackResize()}}])&&q(t.prototype,o),n&&q(t,n),e}();function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oe(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(e){function t(e,o,n){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=oe(this,ne(t).call(this));var r=e;return r&&"function"!=typeof r?r=e[o].bind(e):n=o,i.domSpan=document.createElement("span"),i.domSpan.className="shortcut",i.domSpan.innerHTML=n||"",i.setCallback(r),i}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,e),o=t,(n=[{key:"_setDomContainer",value:function(e){this.domContainer=e,e.addEventListener("click",this._onClick.bind(this))}},{key:"_onClick",value:function(){this.callback&&this.callback()}}])&&te(o.prototype,n),i&&te(o,i),t}(i);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function le(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e,t,o){return(se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ce(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(o):i.value}})(e,t,o||e)}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var he,fe=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=le(this,ce(t).call(this))).domUl=document.createElement("ul"),e}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,e),o=t,(n=[{key:"addButton",value:function(e,t,o,n){var i=new re(t,o,n),r=this._addLine(e);return r.appendChild(i.domSpan),i._setDomContainer(r),i}},{key:"addSlider",value:function(e,o,n,i,r,a){var u=se(ce(t.prototype),"addSlider",this).call(this,e,o,n,i,r,a);return u.domInputText.style.width="18%",u.domSlider.style.width=e?"44%":"80%",u}}])&&ue(o.prototype,n),i&&ue(o,i),t}(G),pe={};pe.refRules={};var be=function(e,t,o){var n=function(){if(he)return he;for(var e=document.styleSheets,t=0,o=e.length;t<o;++t){var n=e[t].href;if(n&&-1!==n.indexOf("yagui.css"))return he=e[t]}}();if(n){var i=n.cssRules||n.rules,r=pe.refRules[e];if(!r){var a=0,u=i.length;for(a=0;a<u&&i[a].selectorText!==e;++a);if(a===u)return!1;r=pe.refRules[e]=i[a]}r&&(r.style[t]=o)}};pe.changeWidgetsColor=function(e){var t=v.getStrColor(e);be(".gui-button","background",t),be(".gui-select","background",t),be(".gui-slider > div","background",t),pe._curWidgetColor=e},pe.changeDisplayBoorder=function(e){var t=e?"1px solid #000":"0";be(".gui-button","border",t),be(".gui-select","border",t),be(".gui-slider","border",t),be(".gui-input-number","border",t),be(".gui-sidebar > ul > label","borderTop",t),be(".gui-sidebar > ul > label","borderBottom",t),be(".gui-sidebar","borderLeft",t),be(".gui-sidebar","borderRight",t),be(".gui-topbar","borderBottom",t),pe._curShowBorder=e},pe.changeBackgroundColor=function(e){be(".gui-sidebar","background",v.getStrColor(e));var t=v.getStrColor(v.getColorMult(e,.5));be(".gui-topbar","background",t),be(".gui-topbar ul > li > ul","background",t),pe._curBackgroundColor=e},pe.changeTextColor=function(e){var t=v.getStrColor(e);be("*","color",t),be(".gui-sidebar > ul > label","color",t),pe._curTextColor=e},pe.changeOverallColor=function(e){pe.changeWidgetsColor(e);var t=v.getColorMult(e,.5);t.length=3,pe.changeBackgroundColor(t);for(var o=v.getColorAdd(e,.5),n=0;n<3;++n)o[n]=Math.min(.8,o[n]);pe.changeTextColor(o),pe._curWidgetColor=e,pe._curBackgroundColor=t,pe._curTextColor=o},pe._curTextColor=[.73,.73,.73,1],pe._curWidgetColor=[.32,.37,.39,1],pe._curBackgroundColor=[.24,.24,.24],pe._curShowBorder=!1,pe.changeOverallColor([.3,.34,.4,1]);var me=pe;function ye(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domTopbar=document.createElement("div"),this.domTopbar.className="gui-topbar",this.domUl=document.createElement("ul"),this.domTopbar.appendChild(this.domUl),this.callbackResize=t,this.uiExtra={}}var t,o,n;return t=e,(o=[{key:"_updateViewportPosition",value:function(e){var t=this.domTopbar.hidden?0:this.domTopbar.offsetHeight;e.style.top=t+"px",e.style.height=e.clientHeight-t+"px"}},{key:"_onChangeColor",value:function(e,t){e(t),this.uiExtra.overallColor.setValue(me._curWidgetColor,!0),this.uiExtra.widgetColor.setValue(me._curWidgetColor,!0),this.uiExtra.backColor.setValue(me._curBackgroundColor,!0),this.uiExtra.textColor.setValue(me._curTextColor,!0)}},{key:"addMenu",value:function(e){var t=new fe,o=document.createElement("li");return o.setAttribute("onclick","void(0)"),o.innerHTML=e||"",this.domUl.appendChild(o),o.appendChild(t.domUl),t._setDomContainer(o),t}},{key:"addExtra",value:function(){var e=this._onChangeColor,t=this.addMenu("Extra UI"),o=this.uiExtra;return t.addTitle("Overall"),o.overallColor=t.addColor("",me._curWidgetColor,e.bind(this,me.changeOverallColor)),t.addTitle("Advanced"),o.widgetColor=t.addColor("Widget",me._curWidgetColor,e.bind(this,me.changeWidgetsColor)),o.backColor=t.addColor("Back",me._curBackgroundColor,e.bind(this,me.changeBackgroundColor)),o.textColor=t.addColor("Text",me._curTextColor,e.bind(this,me.changeTextColor)),o.showBorder=t.addCheckbox("Border",me._curShowBorder,me.changeDisplayBoorder),t}},{key:"setVisibility",value:function(e){this.domTopbar.hidden=!e,this.callbackResize()}}])&&ye(t.prototype,o),n&&ye(t,n),e}();function ge(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var _e=function(){function e(t,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domMain=document.createElement("div"),this.viewport=t,this.callbackResize=o,this.viewport&&(this.viewport.style.width=document.documentElement.clientWidth+"px",this.viewport.style.height=document.documentElement.clientHeight+"px"),this.cbResize_=this._onWindowResize.bind(this),document.body.appendChild(this.domMain),this.leftSidebar=void 0,this.rightSidebar=void 0,this.topbar=void 0,window.addEventListener("resize",this._onWindowResize.bind(this),!1)}var t,o,n;return t=e,(o=[{key:"_onWindowResize",value:function(){this.viewport&&(this.viewport.style.width=document.documentElement.clientWidth+"px",this.viewport.style.height=document.documentElement.clientHeight+"px",this.viewport.style.left="0px",this.viewport.style.top="0px",this.leftSidebar&&this.leftSidebar._updateViewportPosition(this.viewport),this.rightSidebar&&this.rightSidebar._updateViewportPosition(this.viewport),this.topbar&&this.topbar._updateViewportPosition(this.viewport)),this._updateSidebarsPosition(),this.callbackResize&&this.callbackResize()}},{key:"_updateSidebarsPosition",value:function(){if(this.topbar){var e=this.topbar.domTopbar.offsetHeight;this.leftSidebar&&this.leftSidebar._setTop(e),this.rightSidebar&&this.rightSidebar._setTop(e)}}},{key:"addLeftSidebar",value:function(){this.leftSidebar=new $(this.cbResize_);var e=this.leftSidebar.domSidebar;return this.domMain.appendChild(e),this.domMain.appendChild(this.leftSidebar.domResize),this._updateSidebarsPosition(),this.leftSidebar._updateViewportPosition(this.viewport),this.leftSidebar}},{key:"addRightSidebar",value:function(){this.rightSidebar=new $(this.cbResize_);var e=this.rightSidebar.domSidebar;return this.domMain.appendChild(e),this.domMain.appendChild(this.rightSidebar.domResize),this.rightSidebar._onTheRight(),this._updateSidebarsPosition(),this.rightSidebar._updateViewportPosition(this.viewport),this.rightSidebar}},{key:"addTopbar",value:function(){return this.topbar=new ve(this.cbResize_),this.domMain.appendChild(this.topbar.domTopbar),this._updateSidebarsPosition(),this.topbar._updateViewportPosition(this.viewport),this.topbar}},{key:"setVisibility",value:function(e){this.domMain.hidden=!e,this._onWindowResize()}}])&&ge(t.prototype,o),n&&ge(t,n),e}();t.default=_e}])}));